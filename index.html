<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shape Viewer</title>
    <link rel="stylesheet" href="index.css"></link>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  </head>
  <body>
    <div class="top-toolbar">
      <div class="toolbar-title">Shape Viewer</div>
      <div id="topOpenBtn">Open .shapefile</div>
    </div>

    <div class="content-container">
      <div class="left-menu">
        <div class="menu-item" id="leftOpenBtn">Open .shapefile</div>
        <div class="menu-item" id="saveAsBtn">Save As</div>
        <div class="menu-item" id="addShapeBtn">Add Shape</div>
      </div>

      <div class="shape-viewport-container">
        <div class="shape-viewport" id="shapeViewport">
          <!-- Three.js will insert a canvas element here -->
        </div>
      </div>
    </div>

    <input
      type="file"
      id="fileInput"
      class="file-input"
      accept=".shapefile,.txt"
    />

    <div id="shapeModal" class="modal">
      <div class="modal-content">
        <h3>Create New Shape</h3>
        
        <form id="shapeForm">
          <div class="form-group">
            <label for="shapeType">Shape Type:</label>
            <select id="shapeType" required>
              <option value="Rectangle">Rectangle</option>
              <option value="Triangle">Triangle</option>
              <option value="Polygon">Polygon</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="shapeX">X Position:</label>
            <input type="number" id="shapeX">
          </div>
          
          <div class="form-group">
            <label for="shapeY">Y Position:</label>
            <input type="number" id="shapeY" >
          </div>
          
          <div class="form-group">
            <label for="shapeZIndex">Z-Index:</label>
            <input type="number" id="shapeZIndex">
          </div>
          
          <!-- Rectangle specific fields -->
          <div class="shape-specific" id="rectangleFields">
            <div class="form-group">
              <label for="rectWidth">Width:</label>
              <input type="number" id="rectWidth" min="1">
            </div>
            <div class="form-group">
              <label for="rectHeight">Height:</label>
              <input type="number" id="rectHeight"  min="1">
            </div>
          </div>
          
          <!-- Triangle specific fields -->
          <div class="shape-specific" id="triangleFields" style="display:none;">
            <div class="form-group">
              <label for="triangleWidth">Width:</label>
              <input type="number" id="triangleWidth" min="1">
            </div>
            <div class="form-group">
              <label for="triangleHeight">Height:</label>
              <input type="number" id="triangleHeight" min="1">
            </div>
          </div>
          
          <!-- Polygon specific fields -->
          <div class="shape-specific" id="polygonFields" style="display:none;">
            <div class="form-group">
              <label for="polygonPoints">Points (format: x1:y1|x2:y2|x3:y3...):</label>
              <input type="text" id="polygonPoints" value="0:0|50:50|100:0">
              <small>Points are relative to shape position (x,y)</small>
            </div>
          </div>
          
          <div class="form-group">
            <label for="shapeColor">Color (hex without #):</label>
            <input type="text" id="shapeColor" pattern="[0-9A-Fa-f]{6}">
            
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancelShapeBtn">Cancel</button>
            <button type="submit" id="createShapeBtn">Create Shape</button>
          </div>
        </form>
      </div>
    </div>
    <script src="index.js"></script>
  </body>
</html>